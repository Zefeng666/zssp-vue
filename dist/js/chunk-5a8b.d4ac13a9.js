(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a8b"],{9713:function(t,e,o){},addd:function(t,e,o){"use strict";var n=o("9713"),r=o.n(n);r.a},b289:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Button",{staticStyle:{"margin-bottom":"16px"},attrs:{type:"warning"},on:{click:t.toInsert}},[t._v("新增商品")]),o("Table",{attrs:{loading:t.orderListLoading,columns:t.orderColumns,data:t.orderData,size:"large"}}),o("Page",{staticStyle:{"margin-top":"10px"},attrs:{total:t.totalCount,"show-total":""},on:{"on-change":t.changePage}}),o("Modal",{attrs:{title:"查看图片"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[t.visible?o("img",{staticStyle:{width:"100%"},attrs:{src:t.showLargeImgSrc}}):t._e()])],1)},r=[],i=(o("cadf"),o("551c"),o("097d"),{name:"goods_list_page",data:function(){var t=this;return{totalCount:0,orderListLoading:!0,visible:!1,showLargeImgSrc:"",orderColumns:[{title:"序号",key:"id",width:70,align:"center"},{title:"商品名",key:"name",align:"center"},{title:"图片",key:"photo",align:"center",render:function(e,o){return e("div",[e("img",{attrs:{src:o.row.url},style:{height:"50px",width:"80px",marginTop:"8px",border:"1px solid #ccc"},on:{click:function(){t.showLargeImgSrc=o.row.url,t.visible=!0}}})])}},{title:"简介",key:"detail"},{title:"操作",key:"action",width:150,align:"center",render:function(e,o){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){console.log(o.row),t.$router.push({name:"goods_edit_page",query:o.row})}}},"编辑"),e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.$Modal.confirm({title:"警告",content:"确定下架此商品吗？",onOk:function(){t.cancelProduct(o.row.productId)}})}}},"下架")])}}],orderData:[]}},created:function(){this.queryAllProducts()},methods:{queryAllProducts:function(t){var e=this;this.$api.queryAllProducts({pageNo:t||1,pageSize:10}).then(function(t){200===t.code?(e.orderData=t.data.items,e.totalCount=t.data.totalCount,e.orderListLoading=!1):console.log(t)})},cancelProduct:function(t){var e=this;this.$api.cancelProduct({productId:t}).then(function(t){200===t.code?(e.$Message.success("操作成功"),e.queryAllProducts()):e.$Message.error(t.message)})},changePage:function(t){this.orderListLoading=!0,this.queryAllProducts(t)},toInsert:function(){this.$router.push({name:"goods_edit_page"})}}}),a=i,s=(o("addd"),o("2877")),c=Object(s["a"])(a,n,r,!1,null,null,null);c.options.__file="goods-list.vue";e["default"]=c.exports}}]);