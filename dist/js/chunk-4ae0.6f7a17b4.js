(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ae0"],{"55aa":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Form",{attrs:{model:t.formItem,"label-width":80}},[o("FormItem",{attrs:{label:"商品名称"}},[o("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"Enter something..."},model:{value:t.formItem.name,callback:function(e){t.$set(t.formItem,"name",e)},expression:"formItem.name"}})],1),o("FormItem",{attrs:{label:"商品图片"}},[o("Upload",{attrs:{"before-upload":t.handleUpload,action:"http://upload.qiniup.com/",data:{token:t.qnToken},"on-success":t.uploadSuccess}},[o("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v("选择图片")])],1),o("img",{directives:[{name:"show",rawName:"v-show",value:t.formItem.url,expression:"formItem.url"}],staticClass:"goods-img",attrs:{src:t.formItem.url}})],1),o("FormItem",{attrs:{label:"商品价格"}},[t._v("\n          价格:\n          "),o("Input",{staticStyle:{width:"100px"},attrs:{placeholder:""},model:{value:t.formItem.price,callback:function(e){t.$set(t.formItem,"price",e)},expression:"formItem.price"}}),t._v(" 元/瓶\n      ")],1),o("FormItem",{attrs:{label:"商品简介"}},[o("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:t.formItem.detail,callback:function(e){t.$set(t.formItem,"detail",e)},expression:"formItem.detail"}})],1),o("FormItem",[o("Button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.submit(e)}}},[t._v("提交")]),o("Button",{directives:[{name:"show",rawName:"v-show",value:!t.formItem.productId,expression:"!formItem.productId"}],staticStyle:{"margin-left":"8px"},nativeOn:{click:function(e){return t.clearForm(e)}}},[t._v("重置")])],1)],1)],1)},n=[],a=(o("cadf"),o("551c"),o("097d"),{name:"goods_edit_page",data:function(){return{qnToken:"",formItem:{name:"",url:"",detail:"",price:""}}},created:function(){this.getQnToken(),this.$route.query.productId&&(this.formItem=this.$route.query)},mounted:function(){},methods:{getQnToken:function(){var t=this;this.$api.getQnToken({}).then(function(e){200===e.code&&(t.qnToken=e.data.token)})},insertProduct:function(){var t=this;this.$api.insertProduct(this.formItem).then(function(e){200===e.code?(t.$Message.success("编辑成功"),t.$router.push({name:"goods_list_page"})):t.$Message.error(e.message)})},alterProduct:function(){var t=this;this.$api.alterProduct(this.formItem).then(function(e){200===e.code?(t.$Message.success("编辑成功"),t.$router.push({name:"goods_list_page"})):t.$Message.error(e.message)})},handleUpload:function(t){},uploadSuccess:function(t,e,o){this.formItem.url="http://image.tlong.tv/"+t.key},submit:function(){this.$route.query.productId?this.alterProduct():this.insertProduct()},clearForm:function(){this.formItem={}}}}),s=a,i=(o("d9ef"),o("2877")),c=Object(i["a"])(s,r,n,!1,null,"3cc3b5f5",null);c.options.__file="goods-edit.vue";e["default"]=c.exports},"6d82":function(t,e,o){},d9ef:function(t,e,o){"use strict";var r=o("6d82"),n=o.n(r);n.a}}]);